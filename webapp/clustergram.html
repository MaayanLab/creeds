  <link rel="stylesheet" href="css/custom.css">


  <div id="wrapper" class='toggled'>

    <!-- Page Content -->
    <div id="page-content-wrapper">

      <!-- Initial Content --> 
      <div id='main_container'>

        <!-- this row is required, -fluid causes problems --> 
        <div class="row" > 

          <div class="col-lg-12">

            <!-- visualization -->
            <div id='viz_container'>

              <div class='row'>
                <div id='clust_instruct_container' >
                  <h1 id='viz_website_title'>D3 Clustergram</h1>

                  <div id='viz_gmt_labels'></div>

                  <div id='title_viz_instruct_text'>About:</div>
                  <div class='viz_instruct_text'> Zoom into the clustergram using scroll. Reorder the clustergram using the toggle buttons or by clicking rows or columns. Double-click to programatically reset zoom/panning.  Search for a gene to zoom into the matrix. </div>
                  <div class='viz_instruct_text'> D3 Clustergram is developed by Nick Fernandez at the <a href="http://icahn.mssm.edu/">Icahn School of Medicine at Mount Sinai</a> in the <a href="http://icahn.mssm.edu/research/labs/maayan-laboratory">Ma'ayan Lab</a> a <a href="http://lincs-dcic.org/">DCIC BD2K-LINCS</a> center. </div>

                  <!-- input box for gene search -->  
                  <div id='gene_search_container' class='row'>
                      <input id='gene_search_box' type="text" class="form-control" placeholder="Input Gene" aria-describedby="sizing-addon2">

                      <div id='gene_search_button' class="btn-group" data-toggle="buttons" >
                        <label id='gene_search_submit' class="btn btn-primary active " onclick="find_gene_in_clust();">
                          <input type="radio" name="options" id="" autocomplete="off" checked > Search
                        </label>
                      </div>
                  </div>

                  <div id='toggle_order' class="btn-group" data-toggle="buttons" >
                      <label class="btn btn-primary active prot_class" onclick="reorder_clust_rank('clust');">
                        <input type="radio" name="options" id="clust_button" autocomplete="off" checked > Cluster
                      </label>
                      <label class="btn btn-primary prot_class" onclick="reorder_clust_rank('rank');">
                        <input type="radio" name="options" id="rank_button" autocomplete="off" > Rank
                      </label>
                    </div>
                  </div>
                </div>

                <div id='clustergram_container' >
                  <div id='col_title'>Columns</div>
                  <div id='clust_and_row_container'>
                    <div id='row_title'>Rows</div>
                    <div id='svg_div'></div>
                  </div>
                </div>
              </div>
            </div>
            <!-- end visualization -->

          </div>
        </div> <!-- end row -->
      </div>
    </div>
    <!-- /#page-content-wrapper -->
  </div>
  <!-- /#wrapper -->

  <script src='js/d3_clustergram.js'></script>
<script>

var postPayLoad = {"genes": ["TPM3", "TNNT1", "MYL2", "ATP2A1"], "ids": ["gene:24", "dz:114", "dz:115"]};
$.ajax({
  type: 'POST',
  url: '/geneSigClustergram',
  contentType : 'application/json',
  data: JSON.stringify(postPayLoad),
  dataType: 'json',
  success: function(network_data){

  // make global copy of network_data 
  global_network_data = network_data;

  // pass the network data to d3_clustergram 
  make_d3_clustergram(network_data);

  // generate a list of genes for auto complete 
  ////////////////////////////////////////////////
  // get all genes 
  all_genes = [];

  // loop through row_nodes
  for (i=0; i<row_nodes.length; i++){
    all_genes.push( row_nodes[i]['name'] ); 
  };

  // use Jquery autocomplete
  ////////////////////////////////
  $( "#gene_search_box" ).autocomplete({
    source: all_genes
  });


  // submit genes button 
  $("#gene_search_box").keyup(function (e) {
      if (e.keyCode == 13) {
          // Do something
          // console.log('pressed enter');
          find_gene_in_clust();
      }
  });
  },

});

</script>